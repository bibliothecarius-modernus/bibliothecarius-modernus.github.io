---
layout: default
---
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">{{ page.title | escape }}</h1>
    <div class="post-meta">
      <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {{ page.date | date: "%B %-d, %Y" }}
      </time>
      {% if page.author %}
        â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span itemprop="name">{{ page.author }}</span>
          </span>
      {% endif %}
      
      {% if page.categories %}
      <div class="post-categories">
        {% for category in page.categories %}
        <a href="{{ '/archive/#' | append: category | uri_escape | relative_url }}" class="category-tag" data-category="{{ category }}">{{ category }}</a>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    
    {% if page.youtube_id %}
    <div class="youtube-embed">
      <iframe width="100%" height="500" src="https://www.youtube.com/embed/{{ page.youtube_id }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    {% elsif page.image %}
    <div class="post-featured-image">
      <img src="{{ page.image | relative_url }}" alt="{{ page.title | escape }}">
    </div>
    {% endif %}
  </header>

  {% if page.audio_analysis %}
  <div class="audio-player-container">
    <details>
      <summary>Listen to Audio Analysis</summary>
      <div class="audio-player">
        <audio controls>
          <source src="{{ page.audio_analysis | relative_url }}" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
        <p class="audio-description">Listen to a brief analysis of this text</p>
      </div>
    </details>
  </div>
  {% endif %}

  <!-- Simple Translation Viewer - With embedded styles and scripts -->
  <div id="translation-viewer">
    <!-- Tab buttons -->
    <div class="translation-tabs">
      <button class="tab-btn analysis-tab active" data-target="analysis">Analysis</button>
      <button class="tab-btn" data-target="side-by-side">Side by Side</button>
      <button class="tab-btn" data-target="latin-only">Latin Only</button>
      <button class="tab-btn" data-target="english-only">English Only</button>
    </div>
    
    <!-- Tab Content -->
    <div class="tab-content">
      <!-- Analysis View -->
      <div id="analysis" class="tab-panel active">
        <div class="analysis-container">
          <div class="post-content analysis-content" itemprop="articleBody">
            {{ content }}
          </div>
        </div>
      </div>
      
      <!-- Side by Side View -->
      <div id="side-by-side" class="tab-panel">
        <div class="two-columns">
          <div class="latin-column">
            <h3>Latin Original</h3>
            <div class="column-content">
              {% if page.latin_text %}
                {{ page.latin_text | markdownify }}
              {% elsif page.translation_json %}
                {% for chunk in page.translation_json.chunks %}
                  <div class="chunk-section">
                    <span class="chunk-number">{{ chunk.chunk_number }}</span>
                    <div class="latin-text">
                      {{ chunk.original_latin | newline_to_br }}
                    </div>
                  </div>
                {% endfor %}
              {% else %}
                <p class="placeholder">Latin text is not available for this document.</p>
              {% endif %}
            </div>
          </div>
          <div class="english-column">
            <h3>English Translation</h3>
            <div class="column-content">
              {% if page.english_translation %}
                {{ page.english_translation | markdownify }}
              {% elsif page.translation_json %}
                {% for chunk in page.translation_json.chunks %}
                  <div class="chunk-section">
                    <span class="chunk-number">{{ chunk.chunk_number }}</span>
                    <div class="english-text">
                      {% assign cleaned_text = chunk.cleaned_english_translation | replace: '<speak>', '' | replace: '</speak>', '' %}
                      {% assign cleaned_text = cleaned_text | replace: '<s>', '' | replace: '</s>', '' %}
                      {% assign cleaned_text = cleaned_text | replace: '<p>', '<p class="translation-paragraph">' %}
                      {% assign cleaned_text = cleaned_text | replace: '<break time="500ms"/>', '' %}
                      {{ cleaned_text }}
                    </div>
                  </div>
                {% endfor %}
              {% else %}
                <p class="placeholder">English translation is not available for this document.</p>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      
      <!-- Latin Only View -->
      <div id="latin-only" class="tab-panel">
        <h3>Latin Original</h3>
        <div class="single-column">
          {% if page.latin_text %}
            {{ page.latin_text | markdownify }}
          {% elsif page.translation_json %}
            {% for chunk in page.translation_json.chunks %}
              <div class="chunk-section latin-full">
                <span class="chunk-number">{{ chunk.chunk_number }}</span>
                <div class="latin-text">
                  {{ chunk.original_latin | newline_to_br }}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p class="placeholder">Latin text is not available for this document.</p>
          {% endif %}
        </div>
      </div>
      
      <!-- English Only View -->
      <div id="english-only" class="tab-panel">
        <h3>English Translation</h3>
        <div class="single-column">
          {% if page.english_translation %}
            {{ page.english_translation | markdownify }}
          {% elsif page.translation_json %}
            {% for chunk in page.translation_json.chunks %}
              <div class="chunk-section english-full">
                <span class="chunk-number">{{ chunk.chunk_number }}</span>
                <div class="english-text">
                  {% assign cleaned_text = chunk.cleaned_english_translation | replace: '<speak>', '' | replace: '</speak>', '' %}
                  {% assign cleaned_text = cleaned_text | replace: '<s>', '' | replace: '</s>', '' %}
                  {% assign cleaned_text = cleaned_text | replace: '<p>', '<p class="translation-paragraph">' %}
                  {% assign cleaned_text = cleaned_text | replace: '<break time="500ms"/>', '' %}
                  {{ cleaned_text }}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p class="placeholder">English translation is not available for this document.</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  
  {% if page.youtube_id %}
  <div class="youtube-promo">
    <h3>Enjoy this article? Listen to the translation!</h3>
    <p>Get the full experience of this Latin Patristic text.</p>
    <a href="https://www.youtube.com/watch?v={{ page.youtube_id }}" class="youtube-button" target="_blank">
      <svg class="youtube-icon" viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M23,9.71a8.5,8.5,0,0,0-.91-4.13,2.92,2.92,0,0,0-1.72-1A78.36,78.36,0,0,0,12,4.27a78.45,78.45,0,0,0-8.34,.3,2.93,2.93,0,0,0-1.73,1A8.35,8.35,0,0,0,1,9.71a48.29,48.29,0,0,0,0,4.58,8.33,8.33,0,0,0,.92,4.13A3.09,3.09,0,0,0,3.66,19.5a78.24,78.24,0,0,0,8.34,.31,78.24,78.24,0,0,0,8.34-.31,3,3,0,0,0,1.73-1.07,8.32,8.32,0,0,0,.91-4.13,48.29,48.29,0,0,0,0-4.58ZM9.88,14.56V9.44l5.47,2.55Z"/>
      </svg>
      Watch on YouTube
    </a>
  </div>
  {% else %}
  <div class="youtube-promo">
    <h3>Explore More Latin Patristic Texts</h3>
    <p>Discover more ancient wisdom through our video translations on YouTube.</p>
    <a href="{{ site.youtube_username | prepend: 'https://youtube.com/@' }}" class="youtube-button" target="_blank">
      <svg class="youtube-icon" viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M23,9.71a8.5,8.5,0,0,0-.91-4.13,2.92,2.92,0,0,0-1.72-1A78.36,78.36,0,0,0,12,4.27a78.45,78.45,0,0,0-8.34,.3,2.93,2.93,0,0,0-1.73,1A8.35,8.35,0,0,0,1,9.71a48.29,48.29,0,0,0,0,4.58,8.33,8.33,0,0,0,.92,4.13A3.09,3.09,0,0,0,3.66,19.5a78.24,78.24,0,0,0,8.34,.31,78.24,78.24,0,0,0,8.34-.31,3,3,0,0,0,1.73-1.07,8.32,8.32,0,0,0,.91-4.13,48.29,48.29,0,0,0,0-4.58ZM9.88,14.56V9.44l5.47,2.55Z"/>
      </svg>
      Visit Our Channel
    </a>
  </div>
  {% endif %}
  
  <div class="post-navigation">
    <div class="post-nav-links">
      {% if page.previous.url %}
      <a class="prev-post" href="{{ page.previous.url | relative_url }}">
        <span class="nav-label">Previous</span>
        <span class="post-title">{{ page.previous.title | escape }}</span>
      </a>
      {% endif %}
      
      {% if page.next.url %}
      <a class="next-post" href="{{ page.next.url | relative_url }}">
        <span class="nav-label">Next</span>
        <span class="post-title">{{ page.next.title | escape }}</span>
      </a>
      {% endif %}
    </div>
  </div>

  <!-- Embedded styles to avoid conflicts with main stylesheet -->
  <style>
    /* Translation Viewer Styles */
    #translation-viewer {
      margin: 30px 0;
      font-family: inherit;
    }
    
    /* Tab buttons */
    .translation-tabs {
      display: flex;
      margin-bottom: 1px;
      border-bottom: 2px solid #B8860B;
    }
    
    .tab-btn {
      padding: 8px 16px;
      margin-right: 4px;
      background-color: #EDE0CA;
      border: 1px solid #B8860B;
      border-bottom: none;
      border-radius: 4px 4px 0 0;
      color: #3E2C1B;
      cursor: pointer;
      font-weight: normal;
      transition: background-color 0.2s;
    }
    
    .tab-btn:hover {
      background-color: #e3d6c0;
    }
    
    .tab-btn.active {
      background-color: #B8860B;
      color: white;
      font-weight: bold;
    }
    
    /* Special styling for analysis tab */
    .analysis-tab {
      background-color: #3E2C1B;
      color: #EDE0CA;
      font-size: 1.05rem;
    }
    
    .analysis-tab:hover {
      background-color: #4d372a;
    }
    
    .analysis-tab.active {
      background-color: #3E2C1B;
      color: #EDE0CA;
    }
    
    /* Tab content container */
    .tab-content {
      border: 1px solid #B8860B;
      border-top: none;
      background-color: white;
    }
    
    /* Tab panels */
    .tab-panel {
      display: none;
      padding: 15px;
    }
    
    .tab-panel.active {
      display: block;
    }
    
    /* Analysis panel without border or background */
    #analysis {
      padding: 0;
      border: none;
      margin: 0;
      background-color: transparent;
    }
    
    .analysis-container {
      padding: 0;
    }
    
    /* Two-column layout for side-by-side view */
    .two-columns {
      display: flex;
      max-height: 70vh;
    }
    
    .latin-column, .english-column {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
    }
    
    .latin-column {
      border-right: 1px solid #e0e0e0;
    }
    
    .column-content {
      height: 100%;
    }
    
    /* Column headers */
    .two-columns h3, .single-column h3 {
      text-align: center;
      padding-bottom: 10px;
      margin-top: 0;
      position: sticky;
      top: 0;
      background-color: white;
      z-index: 1;
    }
    
    .latin-column h3 {
      color: #5c4a28;
    }
    
    .english-column h3 {
      color: #2a4a75;
    }
    
    /* Chunk styling */
    .chunk-section {
      position: relative;
      margin-bottom: 20px;
      padding: 10px 15px;
      border-radius: 6px;
    }
    
    .chunk-number {
      position: absolute;
      top: -8px;
      left: 10px;
      background-color: #B8860B;
      color: white;
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 10px;
    }
    
    .latin-text {
      font-style: italic;
      color: #5c4a28;
    }
    
    .english-text {
      color: #2a4a75;
    }
    
    /* Background colors for sections */
    .chunk-section {
      background-color: #f9f9f9;
      border: 1px solid #e0e0e0;
    }
    
    .latin-column .chunk-section,
    .latin-full {
      background-color: #fff8e8;
      border-color: #e6d7b8;
    }
    
    .english-column .chunk-section,
    .english-full {
      background-color: #f8fbff;
      border-color: #d0e2f5;
    }
    
    /* Single column layout for latin/english only views */
    .single-column {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    /* Translation paragraph spacing */
    .translation-paragraph {
      margin-bottom: 1em;
    }
    
    /* Placeholder text */
    .placeholder {
      text-align: center;
      padding: 30px;
      color: #666;
      font-style: italic;
    }
    
    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .translation-tabs {
        flex-wrap: wrap;
      }
      
      .tab-btn {
        margin-bottom: 4px;
      }
      
      .two-columns {
        flex-direction: column;
        max-height: none;
      }
      
      .latin-column, .english-column {
        height: auto;
        max-height: 50vh;
      }
      
      .latin-column {
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
        margin-bottom: 15px;
      }
    }
  </style>

  <!-- Embedded JavaScript for tabs functionality -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get all tab buttons and panels
      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabPanels = document.querySelectorAll('.tab-panel');
      
      // Set up tab switching
      tabButtons.forEach(function(button) {
        button.addEventListener('click', function() {
          // Get target panel id
          const targetId = this.getAttribute('data-target');
          
          // Remove active class from all buttons and panels
          tabButtons.forEach(function(btn) {
            btn.classList.remove('active');
          });
          
          tabPanels.forEach(function(panel) {
            panel.classList.remove('active');
          });
          
          // Add active class to clicked button and target panel
          this.classList.add('active');
          document.getElementById(targetId).classList.add('active');
          
          // Save preference to localStorage
          localStorage.setItem('preferredTab', targetId);
        });
      });
      
      // Check for saved preference
      const savedTab = localStorage.getItem('preferredTab');
      if (savedTab && document.getElementById(savedTab)) {
        // Find the button for this tab
        const savedButton = document.querySelector('.tab-btn[data-target="' + savedTab + '"]');
        if (savedButton) {
          savedButton.click();
        }
      }
      
      // Set up synchronized scrolling for side-by-side view
      const latinColumn = document.querySelector('.latin-column .column-content');
      const englishColumn = document.querySelector('.english-column .column-content');
      
      if (latinColumn && englishColumn) {
        // When scrolling latin column
        latinColumn.addEventListener('scroll', function() {
          const scrollPercentage = this.scrollTop / (this.scrollHeight - this.clientHeight);
          englishColumn.scrollTop = scrollPercentage * (englishColumn.scrollHeight - englishColumn.clientHeight);
        });
        
        // When scrolling english column
        englishColumn.addEventListener('scroll', function() {
          const scrollPercentage = this.scrollTop / (this.scrollHeight - this.clientHeight);
          latinColumn.scrollTop = scrollPercentage * (latinColumn.scrollHeight - latinColumn.clientHeight);
        });
      }
    });
  </script>
</article>