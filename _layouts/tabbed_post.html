---
layout: default
---
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">{{ page.title | escape }}</h1>
    <div class="post-meta">
      <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {{ page.date | date: "%B %-d, %Y" }}
      </time>
      {% if page.author %}
        â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span itemprop="name">{{ page.author }}</span>
          </span>
      {% endif %}
      
      {% if page.categories %}
      <div class="post-categories">
        {% for category in page.categories %}
        <a href="{{ '/archive/#' | append: category | uri_escape | relative_url }}" class="category-tag" data-category="{{ category }}">{{ category }}</a>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    
    {% if page.youtube_id %}
    <div class="youtube-embed">
      <iframe width="100%" height="500" src="https://www.youtube.com/embed/{{ page.youtube_id }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    {% elsif page.image %}
    <div class="post-featured-image">
      <img src="{{ page.image | relative_url }}" alt="{{ page.title | escape }}">
    </div>
    {% endif %}
  </header>

  {% if page.audio_analysis %}
  <div class="audio-player-container">
    <details>
      <summary>Listen to Audio Analysis</summary>
      <div class="audio-player">
        <audio controls>
          <source src="{{ page.audio_analysis | relative_url }}" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
        <p class="audio-description">Listen to a brief analysis of this text</p>
      </div>
    </details>
  </div>
  {% endif %}

  <div class="translation-viewer">
    <div class="view-options">
      <button class="view-option active" data-view="side-by-side">Side by Side</button>
      <button class="view-option" data-view="analysis">Analysis</button>
      <button class="view-option" data-view="latin-only">Latin Only</button>
      <button class="view-option" data-view="english-only">English Only</button>
    </div>
    
    <div class="view-container">
      <!-- Side by Side View -->
      <div id="side-by-side-view" class="view-panel active">
        <div class="side-by-side-container">
          <div class="latin-panel">
            <div class="panel-header">Latin Original</div>
            <div class="panel-content">
              {% if page.latin_text %}
                {{ page.latin_text | markdownify }}
              {% elsif page.translation_json %}
                {% for chunk in page.translation_json.chunks %}
                  <div class="latin-section" id="latin-section-{{ chunk.chunk_number }}">
                    <div class="section-number">{{ chunk.chunk_number }}</div>
                    <div class="section-content">
                      {{ chunk.original_latin | newline_to_br }}
                    </div>
                  </div>
                {% endfor %}
              {% else %}
                <p class="placeholder-text">Latin text is not available for this document.</p>
              {% endif %}
            </div>
          </div>
          <div class="english-panel">
            <div class="panel-header">English Translation</div>
            <div class="panel-content">
              {% if page.english_translation %}
                {{ page.english_translation | markdownify }}
              {% elsif page.translation_json %}
                {% for chunk in page.translation_json.chunks %}
                  <div class="english-section" id="english-section-{{ chunk.chunk_number }}">
                    <div class="section-number">{{ chunk.chunk_number }}</div>
                    <div class="section-content">
                      {% assign cleaned_text = chunk.cleaned_english_translation | replace: '<speak>', '' | replace: '</speak>', '' %}
                      {% assign cleaned_text = cleaned_text | replace: '<s>', '' | replace: '</s>', '' %}
                      {% assign cleaned_text = cleaned_text | replace: '<p>', '<p class="translation-paragraph">' %}
                      {% assign cleaned_text = cleaned_text | replace: '<break time="500ms"/>', '' %}
                      {{ cleaned_text }}
                    </div>
                  </div>
                {% endfor %}
              {% else %}
                <p class="placeholder-text">English translation is not available for this document.</p>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      
      <!-- Analysis View -->
      <div id="analysis-view" class="view-panel">
        <div class="analysis-container">
          <div class="post-content analysis-content" itemprop="articleBody">
            {{ content }}
          </div>
        </div>
      </div>
      
      <!-- Latin Only View -->
      <div id="latin-only-view" class="view-panel">
        <div class="latin-content">
          {% if page.latin_text %}
            {{ page.latin_text | markdownify }}
          {% elsif page.translation_json %}
            {% for chunk in page.translation_json.chunks %}
              <div class="latin-section full-width" id="latin-section-full-{{ chunk.chunk_number }}">
                <div class="section-number">{{ chunk.chunk_number }}</div>
                <div class="section-content">
                  {{ chunk.original_latin | newline_to_br }}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p class="placeholder-text">Latin text is not available for this document.</p>
          {% endif %}
        </div>
      </div>
      
      <!-- English Only View -->
      <div id="english-only-view" class="view-panel">
        <div class="english-content">
          {% if page.english_translation %}
            {{ page.english_translation | markdownify }}
          {% elsif page.translation_json %}
            {% for chunk in page.translation_json.chunks %}
              <div class="english-section full-width" id="english-section-full-{{ chunk.chunk_number }}">
                <div class="section-number">{{ chunk.chunk_number }}</div>
                <div class="section-content">
                  {% assign cleaned_text = chunk.cleaned_english_translation | replace: '<speak>', '' | replace: '</speak>', '' %}
                  {% assign cleaned_text = cleaned_text | replace: '<s>', '' | replace: '</s>', '' %}
                  {% assign cleaned_text = cleaned_text | replace: '<p>', '<p class="translation-paragraph">' %}
                  {% assign cleaned_text = cleaned_text | replace: '<break time="500ms"/>', '' %}
                  {{ cleaned_text }}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p class="placeholder-text">English translation is not available for this document.</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  
  {% if page.youtube_id %}
  <div class="youtube-promo">
    <h3>Enjoy this article? Listen to the translation!</h3>
    <p>Get the full experience of this Latin Patristic text.</p>
    <a href="https://www.youtube.com/watch?v={{ page.youtube_id }}" class="youtube-button" target="_blank">
      <svg class="youtube-icon" viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M23,9.71a8.5,8.5,0,0,0-.91-4.13,2.92,2.92,0,0,0-1.72-1A78.36,78.36,0,0,0,12,4.27a78.45,78.45,0,0,0-8.34,.3,2.93,2.93,0,0,0-1.73,1A8.35,8.35,0,0,0,1,9.71a48.29,48.29,0,0,0,0,4.58,8.33,8.33,0,0,0,.92,4.13A3.09,3.09,0,0,0,3.66,19.5a78.24,78.24,0,0,0,8.34,.31,78.24,78.24,0,0,0,8.34-.31,3,3,0,0,0,1.73-1.07,8.32,8.32,0,0,0,.91-4.13,48.29,48.29,0,0,0,0-4.58ZM9.88,14.56V9.44l5.47,2.55Z"/>
      </svg>
      Watch on YouTube
    </a>
  </div>
  {% else %}
  <div class="youtube-promo">
    <h3>Explore More Latin Patristic Texts</h3>
    <p>Discover more ancient wisdom through our video translations on YouTube.</p>
    <a href="{{ site.youtube_username | prepend: 'https://youtube.com/@' }}" class="youtube-button" target="_blank">
      <svg class="youtube-icon" viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M23,9.71a8.5,8.5,0,0,0-.91-4.13,2.92,2.92,0,0,0-1.72-1A78.36,78.36,0,0,0,12,4.27a78.45,78.45,0,0,0-8.34,.3,2.93,2.93,0,0,0-1.73,1A8.35,8.35,0,0,0,1,9.71a48.29,48.29,0,0,0,0,4.58,8.33,8.33,0,0,0,.92,4.13A3.09,3.09,0,0,0,3.66,19.5a78.24,78.24,0,0,0,8.34,.31,78.24,78.24,0,0,0,8.34-.31,3,3,0,0,0,1.73-1.07,8.32,8.32,0,0,0,.91-4.13,48.29,48.29,0,0,0,0-4.58ZM9.88,14.56V9.44l5.47,2.55Z"/>
      </svg>
      Visit Our Channel
    </a>
  </div>
  {% endif %}
  
  <div class="post-navigation">
    <div class="post-nav-links">
      {% if page.previous.url %}
      <a class="prev-post" href="{{ page.previous.url | relative_url }}">
        <span class="nav-label">Previous</span>
        <span class="post-title">{{ page.previous.title | escape }}</span>
      </a>
      {% endif %}
      
      {% if page.next.url %}
      <a class="next-post" href="{{ page.next.url | relative_url }}">
        <span class="nav-label">Next</span>
        <span class="post-title">{{ page.next.title | escape }}</span>
      </a>
      {% endif %}
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Simple view switching
      const viewOptions = document.querySelectorAll('.view-option');
      const viewPanels = document.querySelectorAll('.view-panel');
      
      // Set up view switching
      viewOptions.forEach(option => {
        option.addEventListener('click', function() {
          const viewName = this.getAttribute('data-view');
          
          // Remove active class from all options and panels
          viewOptions.forEach(opt => opt.classList.remove('active'));
          viewPanels.forEach(panel => panel.classList.remove('active'));
          
          // Add active class to selected option and panel
          this.classList.add('active');
          document.getElementById(viewName + '-view').classList.add('active');
          
          // Save preference to localStorage
          localStorage.setItem('preferredView', viewName);
        });
      });
      
      // Check for saved preference
      const savedView = localStorage.getItem('preferredView');
      if (savedView) {
        const savedButton = document.querySelector(`.view-option[data-view="${savedView}"]`);
        if (savedButton) {
          savedButton.click();
        }
      }
      
      // Synchronize scrolling in side-by-side view
      const latinPanel = document.querySelector('.latin-panel .panel-content');
      const englishPanel = document.querySelector('.english-panel .panel-content');
      
      if (latinPanel && englishPanel) {
        latinPanel.addEventListener('scroll', function() {
          const scrollPercentage = this.scrollTop / (this.scrollHeight - this.clientHeight);
          englishPanel.scrollTop = scrollPercentage * (englishPanel.scrollHeight - englishPanel.clientHeight);
        });
        
        englishPanel.addEventListener('scroll', function() {
          const scrollPercentage = this.scrollTop / (this.scrollHeight - this.clientHeight);
          latinPanel.scrollTop = scrollPercentage * (latinPanel.scrollHeight - latinPanel.clientHeight);
        });
      }
      
      // Section highlight on hover
      const latinSections = document.querySelectorAll('.latin-section');
      const englishSections = document.querySelectorAll('.english-section');
      
      latinSections.forEach((section, index) => {
        section.addEventListener('mouseenter', function() {
          this.classList.add('highlight');
          if (englishSections[index]) {
            englishSections[index].classList.add('highlight');
          }
        });
        
        section.addEventListener('mouseleave', function() {
          this.classList.remove('highlight');
          if (englishSections[index]) {
            englishSections[index].classList.remove('highlight');
          }
        });
      });
      
      englishSections.forEach((section, index) => {
        section.addEventListener('mouseenter', function() {
          this.classList.add('highlight');
          if (latinSections[index]) {
            latinSections[index].classList.add('highlight');
          }
        });
        
        section.addEventListener('mouseleave', function() {
          this.classList.remove('highlight');
          if (latinSections[index]) {
            latinSections[index].classList.remove('highlight');
          }
        });
      });
    });
  </script>
</article>